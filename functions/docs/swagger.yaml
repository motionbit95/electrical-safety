openapi: "3.0.0"
info:
  title: "전기안전 - Firebase Functions API"
  version: "1.0.0"
  description: |
    ## 🚀 Endpoint
    배포가 완료되면 아래 주소에서 API를 확인할 수 있습니다.

    - `https://us-central1-electrical-safety-4c9bd.cloudfunctions.net/api`
      <br>  <br>
    - `https://api-2hj4xnf47q-uc.a.run.app`

paths:
  /auth/admin/signup:
    post:
      tags:
        - Admin
      summary: "관리자 회원가입"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - admin_id
                - admin_pw
              properties:
                admin_id:
                  type: string
                  description: "관리자 ID"
                  example: "admin123"
                admin_pw:
                  type: string
                  description: "관리자 비밀번호"
                  example: "securePassword123!"
      responses:
        "201":
          description: "관리자 회원가입 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "관리자 회원가입 성공"
        "400":
          description: "잘못된 요청"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -2000
                  message:
                    type: string
                    example: "admin_id와 admin_pw를 입력하세요."
        "500":
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -2002
                  message:
                    type: string
                    example: "관리자 회원가입 중 서버 오류 발생"

  /auth/admin/login:
    post:
      tags:
        - Admin
      summary: "관리자 로그인"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - admin_id
                - admin_pw
              properties:
                admin_id:
                  type: string
                  description: "관리자 ID"
                  example: "admin123"
                admin_pw:
                  type: string
                  description: "관리자 비밀번호"
                  example: "securePassword123!"
      responses:
        "200":
          description: "관리자 로그인 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "관리자 로그인 성공"
                  token:
                    type: string
                    example: "jwt_token_here"
                  lastActiveAt:
                    type: string
                    format: date-time
                    example: "2025-03-24T12:00:00.000Z"
        "400":
          description: "잘못된 요청"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -2000
                  message:
                    type: string
                    example: "admin_id와 admin_pw를 입력하세요."
        "500":
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -2004
                  message:
                    type: string
                    example: "관리자 로그인 처리 중 서버 오류 발생"

  /auth/admin/{admin_id}:
    delete:
      tags:
        - Admin
      summary: "관리자 탈퇴"
      parameters:
        - name: admin_id
          in: path
          required: true
          schema:
            type: string
          description: "탈퇴할 관리자 ID"
      responses:
        "200":
          description: "관리자 탈퇴 성공"
        "400":
          description: "잘못된 요청"
        "500":
          description: "서버 오류"

  /auth/admins:
    get:
      tags:
        - Admin
      summary: "모든 관리자 목록 조회"
      responses:
        "200":
          description: "관리자 목록 반환"
        "404":
          description: "관리자가 없음"
        "500":
          description: "서버 오류"

  /auth/signup:
    post:
      tags:
        - User
      summary: "회원가입"
      description: "새로운 사용자를 등록하는 API입니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id
                - user_pw
              properties:
                user_id:
                  type: string
                  description: "사용자의 고유 아이디"
                  example: "user123"
                user_pw:
                  type: string
                  description: "사용자의 비밀번호"
                  example: "password123"
      responses:
        201:
          description: "회원가입 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "회원가입 성공"
        400:
          description: "잘못된 요청 (user_id 또는 user_pw가 누락된 경우)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1000
                  message:
                    type: string
                    example: "user_id와 user_pw를 입력하세요."
        409:
          description: "이미 존재하는 사용자 ID"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1001
                  message:
                    type: string
                    example: "이미 존재하는 user_id입니다."
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "회원가입 중 서버 오류가 발생했습니다."

  /auth/login:
    post:
      tags:
        - User
      summary: "로그인"
      description: "user_id와 user_pw로 로그인하고 JWT 토큰을 발급받는 API입니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id
                - user_pw
              properties:
                user_id:
                  type: string
                  description: "사용자의 고유 아이디"
                  example: "user123"
                user_pw:
                  type: string
                  description: "사용자의 비밀번호"
                  example: "password123"
      responses:
        200:
          description: "로그인 성공 (JWT 토큰 포함)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "로그인 성공"
                  token:
                    type: string
                    description: "JWT 토큰 (발급된 인증 토큰)"
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  lastActiveAt:
                    type: string
                    format: date-time
                    description: "마지막 로그인 시간"
                    example: "2025-01-23T12:34:56.789Z"
        400:
          description: "잘못된 요청 (user_id 또는 user_pw가 올바르지 않음)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1000
                  message:
                    type: string
                    example: "user_id와 user_pw를 입력하세요."
        404:
          description: "존재하지 않는 user_id"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1001
                  message:
                    type: string
                    example: "존재하지 않는 user_id입니다."
        401:
          description: "비밀번호가 일치하지 않음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1003
                  message:
                    type: string
                    example: "비밀번호가 일치하지 않습니다."
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1004
                  message:
                    type: string
                    example: "로그인 처리 중 서버 오류가 발생했습니다."

  /auth/{user_id}:
    delete:
      tags:
        - User
      summary: "사용자 탈퇴"
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
          description: "탈퇴할 사용자 ID"
      responses:
        "200":
          description: "사용자 탈퇴 성공"
        "400":
          description: "잘못된 요청"
        "500":
          description: "서버 오류"

  /auth/users:
    get:
      tags:
        - User
      summary: "모든 사용자 목록 조회"
      responses:
        "200":
          description: "사용자 목록 반환"
        "404":
          description: "사용자가 없음"
        "500":
          description: "서버 오류"

  /notice:
    get:
      tags:
        - Notice
      summary: "전체 공지사항 조회"
      description: "저장된 모든 공지사항을 조회하는 API입니다."
      responses:
        200:
          description: "공지사항 목록"
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: "공지사항 ID"
                      example: "abcd1234"
                    title:
                      type: string
                      description: "공지사항 제목"
                      example: "전기안전 점검 안내"
                    content:
                      type: string
                      description: "공지사항 내용"
                      example: "이번 주 금요일 전기안전 점검이 진행됩니다."
                    author:
                      type: string
                      description: "작성자"
                      example: "관리자"
                    createdAt:
                      type: string
                      format: date-time
                      description: "공지사항 작성 일시"
                      example: "2025-02-05T12:00:00Z"
        404:
          description: "공지사항이 없습니다"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "No posts found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "공지사항 조회 중 서버 오류가 발생했습니다."
    post:
      tags:
        - Notice
      summary: "공지사항 생성"
      description: "새로운 공지사항을 추가하는 API입니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - content
                - author
                - type
              properties:
                title:
                  type: string
                  description: "공지사항 제목"
                  example: "전기안전 점검 안내"
                content:
                  type: string
                  description: "공지사항 내용"
                  example: "이번 주 금요일 전기안전 점검이 진행됩니다."
                author:
                  type: string
                  description: "작성자"
                  example: "관리자"
                type:
                  type: string
                  description: "공지사항 타입"
                  example: "공지"
      responses:
        201:
          description: "공지사항 생성 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post created successfully"
                  postId:
                    type: string
                    example: "abcd1234"
        400:
          description: "잘못된 요청 (필수 항목이 누락된 경우)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Missing required fields"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "공지사항 생성 중 서버 오류가 발생했습니다."

  /notice/{id}:
    get:
      tags:
        - Notice
      summary: "단일 공지사항 조회"
      description: "특정 ID의 공지사항을 조회하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "조회할 공지사항의 ID"
          schema:
            type: string
            example: "abcd1234"
      responses:
        200:
          description: "공지사항 정보"
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: "공지사항 ID"
                    example: "abcd1234"
                  title:
                    type: string
                    description: "공지사항 제목"
                    example: "전기안전 점검 안내"
                  content:
                    type: string
                    description: "공지사항 내용"
                    example: "이번 주 금요일 전기안전 점검이 진행됩니다."
                  author:
                    type: string
                    description: "작성자"
                    example: "관리자"
                  createdAt:
                    type: string
                    format: date-time
                    description: "공지사항 작성 일시"
                    example: "2025-02-05T12:00:00Z"
        404:
          description: "공지사항을 찾을 수 없음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post not found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "공지사항 조회 중 서버 오류가 발생했습니다."
    put:
      tags:
        - Notice
      summary: "공지사항 수정"
      description: "특정 ID의 공지사항을 수정하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "수정할 공지사항의 ID"
          schema:
            type: string
            example: "abcd1234"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - content
                - author
              properties:
                title:
                  type: string
                  description: "공지사항 제목"
                  example: "전기안전 점검 안내 수정"
                content:
                  type: string
                  description: "공지사항 내용"
                  example: "이번 주 금요일 전기안전 점검이 진행됩니다. 수정"
                author:
                  type: string
                  description: "작성자"
                  example: "관리자"
      responses:
        200:
          description: "공지사항 수정 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post updated successfully"
        400:
          description: "잘못된 요청 (필수 항목이 누락된 경우)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Missing required fields"
        404:
          description: "수정할 공지사항을 찾을 수 없음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post not found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "공지사항 수정 중 서버 오류가 발생했습니다."
    delete:
      tags:
        - Notice
      summary: "공지사항 삭제"
      description: "특정 ID의 공지사항을 삭제하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "삭제할 공지사항의 ID"
          schema:
            type: string
            example: "abcd1234"
      responses:
        200:
          description: "공지사항 삭제 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post deleted successfully"
        404:
          description: "삭제할 공지사항을 찾을 수 없음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Post not found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "공지사항 삭제 중 서버 오류가 발생했습니다."

  /faq:
    get:
      tags:
        - FAQ
      summary: "전체 FAQ 조회"
      description: "저장된 모든 FAQ를 조회하는 API입니다."
      responses:
        200:
          description: "FAQ 목록"
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: "FAQ ID"
                      example: "faq1234"
                    question:
                      type: string
                      description: "FAQ 질문"
                      example: "전기안전 점검은 언제 하나요?"
                    answer:
                      type: string
                      description: "FAQ 답변"
                      example: "전기안전 점검은 매월 첫째 주 금요일에 진행됩니다."
        404:
          description: "FAQ가 없습니다"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "No FAQ found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "FAQ 조회 중 서버 오류가 발생했습니다."
    post:
      tags:
        - FAQ
      summary: "FAQ 생성"
      description: "새로운 FAQ를 추가하는 API입니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - question
                - answer
              properties:
                question:
                  type: string
                  description: "FAQ 질문"
                  example: "전기안전 점검은 언제 하나요?"
                answer:
                  type: string
                  description: "FAQ 답변"
                  example: "전기안전 점검은 매월 첫째 주 금요일에 진행됩니다."
      responses:
        201:
          description: "FAQ 생성 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "FAQ created successfully"
                  faqId:
                    type: string
                    example: "faq1234"
        400:
          description: "잘못된 요청 (필수 항목이 누락된 경우)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Missing required fields"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "FAQ 생성 중 서버 오류가 발생했습니다."

  /faq/{id}:
    get:
      tags:
        - FAQ
      summary: "단일 FAQ 조회"
      description: "특정 ID의 FAQ를 조회하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "조회할 FAQ의 ID"
          schema:
            type: string
            example: "faq1234"
      responses:
        200:
          description: "FAQ 정보"
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: "FAQ ID"
                    example: "faq1234"
                  question:
                    type: string
                    description: "FAQ 질문"
                    example: "전기안전 점검은 언제 하나요?"
                  answer:
                    type: string
                    description: "FAQ 답변"
                    example: "전기안전 점검은 매월 첫째 주 금요일에 진행됩니다."
        404:
          description: "FAQ를 찾을 수 없음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "FAQ not found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "FAQ 조회 중 서버 오류가 발생했습니다."
    put:
      tags:
        - FAQ
      summary: "FAQ 수정"
      description: "특정 ID의 FAQ를 수정하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "수정할 FAQ의 ID"
          schema:
            type: string
            example: "faq1234"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - question
                - answer
              properties:
                question:
                  type: string
                  description: "FAQ 질문"
                  example: "전기안전 점검은 언제 하나요?"
                answer:
                  type: string
                  description: "FAQ 답변"
                  example: "전기안전 점검은 매월 첫째 주 금요일에 진행됩니다."
      responses:
        200:
          description: "FAQ 수정 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "FAQ updated successfully"
        400:
          description: "잘못된 요청 (필수 항목이 누락된 경우)"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Missing required fields"
        404:
          description: "수정할 FAQ를 찾을 수 없음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "FAQ not found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "FAQ 수정 중 서버 오류가 발생했습니다."
    delete:
      tags:
        - FAQ
      summary: "FAQ 삭제"
      description: "특정 ID의 FAQ를 삭제하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "삭제할 FAQ의 ID"
          schema:
            type: string
            example: "faq1234"
      responses:
        200:
          description: "FAQ 삭제 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "FAQ deleted successfully"
        404:
          description: "삭제할 FAQ를 찾을 수 없음"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "FAQ not found"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "FAQ 삭제 중 서버 오류가 발생했습니다."

  /inquiry:
    post:
      tags:
        - Inquiry
      summary: "1:1 문의 생성"
      description: "새로운 1:1 문의를 등록하는 API입니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - title
                - content
              properties:
                userId:
                  type: string
                  description: "사용자 ID"
                  example: "user123"
                title:
                  type: string
                  description: "문의 제목"
                  example: "결제 오류 문의"
                content:
                  type: string
                  description: "문의 내용"
                  example: "결제 진행 중 오류가 발생했습니다."
      responses:
        201:
          description: "문의 생성 성공"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Inquiry created successfully"
                  inquiryId:
                    type: string
                    example: "abcd1234"
        400:
          description: "잘못된 요청 (필수 항목 누락)"
        500:
          description: "서버 오류"

    get:
      tags:
        - Inquiry
      summary: "전체 1:1 문의 조회"
      description: "등록된 모든 1:1 문의를 조회하는 API입니다."
      responses:
        200:
          description: "문의 목록"
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: "문의 ID"
                      example: "abcd1234"
                    userId:
                      type: string
                      description: "사용자 ID"
                      example: "user123"
                    title:
                      type: string
                      description: "문의 제목"
                      example: "결제 오류 문의"
                    content:
                      type: string
                      description: "문의 내용"
                      example: "결제 진행 중 오류가 발생했습니다."
                    createdAt:
                      type: string
                      format: date-time
                      description: "문의 작성 일시"
                      example: "2025-02-05T12:00:00Z"
        404:
          description: "문의가 없습니다"
        500:
          description: "서버 오류"

  /inquiry/{id}:
    get:
      tags:
        - Inquiry
      summary: "단일 1:1 문의 조회"
      description: "특정 ID의 1:1 문의를 조회하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "조회할 문의의 ID"
          schema:
            type: string
            example: "abcd1234"
      responses:
        200:
          description: "문의 정보"
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: "abcd1234"
                  userId:
                    type: string
                    example: "user123"
                  title:
                    type: string
                    example: "결제 오류 문의"
                  content:
                    type: string
                    example: "결제 진행 중 오류가 발생했습니다."
                  createdAt:
                    type: string
                    format: date-time
                    example: "2025-02-05T12:00:00Z"
        404:
          description: "문의가 없습니다"
        500:
          description: "서버 오류"

    put:
      tags:
        - Inquiry
      summary: "1:1 문의 수정"
      description: "특정 ID의 1:1 문의를 수정하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "수정할 문의의 ID"
          schema:
            type: string
            example: "abcd1234"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: "결제 오류 문의 (수정됨)"
                content:
                  type: string
                  example: "결제 진행 중 오류가 발생했습니다. (수정됨)"
                status:
                  type: string
                  example: "resolved"
      responses:
        200:
          description: "문의 수정 성공"
        400:
          description: "잘못된 요청"
        404:
          description: "문의가 없습니다"
        500:
          description: "서버 오류"

    delete:
      tags:
        - Inquiry
      summary: "1:1 문의 삭제"
      description: "특정 ID의 1:1 문의를 삭제하는 API입니다."
      parameters:
        - in: path
          name: id
          required: true
          description: "삭제할 문의의 ID"
          schema:
            type: string
            example: "abcd1234"
      responses:
        200:
          description: "문의 삭제 성공"
        404:
          description: "문의가 없습니다"
        500:
          description: "서버 오류"

  /inquiry/user/{userId}:
    get:
      tags:
        - Inquiry
      summary: "특정 사용자 1:1 문의 조회"
      description: "특정 사용자의 1:1 문의 내역을 조회하는 API입니다."
      parameters:
        - in: path
          name: userId
          required: true
          description: "조회할 사용자 ID"
          schema:
            type: string
            example: "user1234"
      responses:
        200:
          description: "특정 사용자 문의 목록"
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: "문의 ID"
                      example: "xyz9876"
                    question:
                      type: string
                      description: "문의 내용"
                      example: "배송 일정이 궁금합니다."
                    answer:
                      type: string
                      description: "관리자 답변"
                      example: "배송은 3~5일 소요됩니다."
                    status:
                      type: string
                      enum: ["pending", "answered"]
                      description: "문의 상태"
                      example: "pending"
                    createdAt:
                      type: string
                      format: date-time
                      description: "문의 작성 일시"
                      example: "2025-03-10T15:00:00Z"
        404:
          description: "해당 사용자의 문의가 없습니다"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "No inquiries found for this user"
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: -1002
                  message:
                    type: string
                    example: "사용자 문의 조회 중 서버 오류가 발생했습니다."

  /inquiry/{id}/answer:
    post:
      tags:
        - Inquiry
      summary: 문의에 대한 답변 제출
      description: 문의에 답변을 업데이트하고 상태를 "답변 완료"로 변경합니다.
      parameters:
        - name: id
          in: path
          required: true
          description: 문의의 ID
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                answer:
                  type: string
                  description: 문의에 대한 답변
              required:
                - answer
      responses:
        200:
          description: 답변이 성공적으로 제출되었습니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        400:
          description: 잘못된 요청 (답변 누락)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        404:
          description: 문의를 찾을 수 없습니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        500:
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /device:
    get:
      summary: 센서 목록 조회
      description: 전체 센서 목록을 조회합니다.
      tags:
        - Sensors
      responses:
        "200":
          description: 센서 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "센서 목록 조회 성공"
                  devices:
                    type: array
                    items:
                      type: object
                      properties:
                        sensorId:
                          type: string
                          example: "ABCD"
                          description: 센서 ID
                        address:
                          type: string
                          example: "서울시 강남구 테헤란로 123"
                          description: 센서 설치 주소
                        xCoord:
                          type: number
                          example: 37.4979
                          description: X좌표 (위도)
                        yCoord:
                          type: number
                          example: 127.0276
                          description: Y좌표 (경도)
                        createdAt:
                          type: string
                          example: "1741337167407"
                          description: 센서 등록 일시
                        complexId:
                          type: string
                          example: "complex001"
                          description: 단지 ID
                        apartmentId:
                          type: string
                          example: "apartment001"
                          description: 아파트 ID
        "500":
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: string
                example: "서버 내부 오류"

    post:
      summary: 새 센서 등록
      description: 센서 정보를 등록합니다.
      tags:
        - Sensors
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - sensorId
                - address
                - xCoord
                - yCoord
                - complexId
                - apartmentId
              properties:
                sensorId:
                  type: string
                  example: "ABCD"
                  description: 센서 ID
                address:
                  type: string
                  example: "서울시 강남구 테헤란로 123"
                  description: 센서 설치 주소
                xCoord:
                  type: number
                  example: 37.4979
                  description: X좌표 (위도)
                yCoord:
                  type: number
                  example: 127.0276
                  description: Y좌표 (경도)
                complexId:
                  type: string
                  example: "complex001"
                  description: 단지 ID
                apartmentId:
                  type: string
                  example: "apartment001"
                  description: 아파트 ID
      responses:
        "201":
          description: 센서 등록 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "센서가 성공적으로 등록되었습니다."
                  sensorId:
                    type: string
                    example: "sensor001"
        "400":
          description: 잘못된 요청 (필수 입력값 누락)
          content:
            application/json:
              schema:
                type: string
                example: "필수 입력값이 누락되었습니다."
        "500":
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: string
                example: "서버 내부 오류"

  /device/{sensorId}:
    delete:
      summary: 특정 센서 삭제
      description: 센서 ID를 이용하여 해당 센서를 삭제합니다.
      tags:
        - Sensors
      parameters:
        - name: sensorId
          in: path
          required: true
          schema:
            type: string
          description: 삭제할 센서 ID
      responses:
        "200":
          description: 센서 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "센서가 성공적으로 삭제됨."
        "500":
          description: 서버 내부 오류
          content:
            application/json:
              schema:
                type: string
                example: "서버 내부 오류"

  /sensor/{sensorId}:
    get:
      tags:
        - Sensors
      summary: 특정 센서의 모든 데이터 조회
      parameters:
        - in: path
          name: sensorId
          required: true
          schema:
            type: string
          description: 센서의 고유 ID
      responses:
        "200":
          description: 센서 데이터 반환
          content:
            application/json:
              schema:
                type: object
        "404":
          description: 데이터가 없을 경우
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "500":
          description: 서버 오류

  /sensor/{sensorId}/latest:
    get:
      tags:
        - Sensors
      summary: 특정 센서의 최신 데이터 조회
      parameters:
        - in: path
          name: sensorId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: 최신 데이터 반환
          content:
            application/json:
              schema:
                type: object
        "404":
          description: 데이터가 없을 경우
        "500":
          description: 서버 오류

  /sensor/{sensorId}/daily-average/{date}:
    get:
      tags:
        - Sensors
      summary: 특정 센서의 일간 평균 데이터 조회
      parameters:
        - in: path
          name: sensorId
          required: true
          schema:
            type: string
        - in: path
          name: date
          required: true
          schema:
            type: string
            format: date
          description: YYYY-MM-DD 형식의 날짜
      responses:
        "200":
          description: 전체 평균 및 시간별 평균 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  overallAvg:
                    type: number
                  hourlyAvg:
                    type: object
                    additionalProperties:
                      type: number
        "404":
          description: 데이터가 없을 경우
        "500":
          description: 서버 오류

  /sensor/{sensorId}/monthly-average/{year}/{month}:
    get:
      tags:
        - Sensors
      summary: 특정 센서의 월간 평균 데이터 조회
      parameters:
        - in: path
          name: sensorId
          required: true
          schema:
            type: string
        - in: path
          name: year
          required: true
          schema:
            type: integer
        - in: path
          name: month
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 12
      responses:
        "200":
          description: 전체 평균 및 주차별 평균 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  overallAvg:
                    type: number
                  weeklyAvg:
                    type: object
                    additionalProperties:
                      type: number
        "404":
          description: 데이터가 없을 경우
        "500":
          description: 서버 오류

  /sensor/{sensorId}/yearly-average/{year}:
    get:
      tags:
        - Sensors
      summary: 특정 센서의 연간 평균 데이터 조회
      parameters:
        - in: path
          name: sensorId
          required: true
          schema:
            type: string
        - in: path
          name: year
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: 전체 평균 및 월별 평균 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  overallAvg:
                    type: number
                  monthlyAvg:
                    type: object
                    additionalProperties:
                      type: number
        "404":
          description: 데이터가 없을 경우
        "500":
          description: 서버 오류

    components:
      schemas:
        TemperatureData:
          type: object
          properties:
            sensorId:
              type: string
            temperature:
              type: number
            timestamp:
              type: string
              format: date-time

  /sensor/users/{userId}/sensors:
    post:
      tags:
        - Sensors(유저)
      summary: 센서 키 등록
      description: 사용자의 센서 키를 등록합니다.
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: 사용자 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - sensorId
              properties:
                sensorId:
                  type: string
                  example: sensor123
      responses:
        "200":
          description: 센서 키가 등록되었습니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  sensorId:
                    type: string
        "400":
          description: 요청 바디 오류
        "500":
          description: 서버 오류

    get:
      tags:
        - Sensors(유저)
      summary: 센서 키 목록 조회
      description: 사용자가 등록한 센서 키 목록을 조회합니다.
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: 사용자 ID
      responses:
        "200":
          description: 센서 키 목록 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  userId:
                    type: string
                  sensors:
                    type: array
                    items:
                      type: string
        "404":
          description: 센서 키가 없습니다.
        "500":
          description: 서버 오류

  /sensor/users/{userId}/sensors/{sensorId}:
    delete:
      tags:
        - Sensors(유저)
      summary: 센서 키 삭제
      description: 사용자의 특정 센서 키를 삭제합니다.
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: 사용자 ID
        - in: path
          name: sensorId
          required: true
          schema:
            type: string
          description: 삭제할 센서 ID
      responses:
        "200":
          description: 센서 키 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  sensorId:
                    type: string
        "404":
          description: 센서 키를 찾을 수 없음
        "500":
          description: 서버 오류

  /complex:
    post:
      tags:
        - Complex
      summary: 단지 추가
      description: 새로운 단지를 추가합니다.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                complexName:
                  type: string
                  description: 추가할 단지의 이름
      responses:
        201:
          description: 단지 추가 성공
        500:
          description: 서버 오류
    put:
      tags:
        - Complex
      summary: 단지 수정
      description: 단지의 이름을 수정합니다.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                complexId:
                  type: string
                  description: 수정할 단지의 ID
                newName:
                  type: string
                  description: 새로운 단지 이름
      responses:
        200:
          description: 단지 수정 성공
        500:
          description: 서버 오류
    delete:
      tags:
        - Complex
      summary: 단지 삭제
      description: 단지를 삭제합니다.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                complexId:
                  type: string
                  description: 삭제할 단지의 ID
      responses:
        200:
          description: 단지 삭제 성공
        500:
          description: 서버 오류

  /complexes:
    get:
      tags:
        - Complex
      summary: 단지 목록 조회
      description: 모든 단지 목록을 조회합니다.
      responses:
        200:
          description: 단지 목록 조회 성공
        500:
          description: 서버 오류

  /complex/{complexId}:
    get:
      summary: "단지 ID로 단지 정보 조회"
      description: "단지 ID를 이용하여 특정 단지의 정보를 조회합니다."
      tags:
        - "Complex"
      parameters:
        - name: "complexId"
          in: "path"
          required: true
          description: "조회할 단지의 고유 ID"
          schema:
            type: "string"
      responses:
        200:
          description: "단지 정보 조회 성공"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  id:
                    type: "string"
                    description: "단지의 고유 ID"
                  name:
                    type: "string"
                    description: "단지 이름"
        404:
          description: "단지를 찾을 수 없음"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  error:
                    type: "string"
                    example: "해당 ID의 단지를 찾을 수 없습니다."
        500:
          description: "서버 오류"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  error:
                    type: "string"
                    example: "서버 내부 오류"

  /apartment:
    post:
      tags:
        - Apartment
      summary: "아파트 추가"
      description: "단지 ID를 기반으로 새로운 아파트를 추가합니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                complexId:
                  type: string
                  example: "-OM9PPpthpeiWXndarq_"
                apartmentName:
                  type: string
                  example: "101동"
                criticalTemperature:
                  type: number
                  example: 50
      responses:
        201:
          description: "아파트가 성공적으로 추가됨"
        500:
          description: "서버 오류"

    put:
      tags:
        - Apartment
      summary: "아파트 수정"
      description: "아파트 ID를 기반으로 이름을 수정합니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                apartmentId:
                  type: string
                  example: "-OM9S7Zs4RIKzW4izw4H"
                newName:
                  type: string
                  example: "201동"
      responses:
        200:
          description: "아파트가 성공적으로 수정됨"
        500:
          description: "서버 오류"

    delete:
      tags:
        - Apartment
      summary: "아파트 삭제"
      description: "아파트 ID를 기반으로 아파트를 삭제합니다."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                apartmentId:
                  type: string
                  example: "-OM9S7Zs4RIKzW4izw4H"
      responses:
        200:
          description: "아파트가 성공적으로 삭제됨"
        500:
          description: "서버 오류"

  /apartments/{complexId}:
    get:
      tags:
        - Apartment
      summary: "특정 단지 내 아파트 목록 조회"
      description: "단지 ID를 기반으로 아파트 목록을 가져옵니다."
      parameters:
        - name: complexId
          in: path
          required: true
          schema:
            type: string
          example: "-OM9PPpthpeiWXndarq_"
      responses:
        200:
          description: "아파트 목록 반환"
        500:
          description: "서버 오류"

  /apartment/{apartmentId}:
    get:
      tags:
        - Apartment
      summary: "아파트 상세 조회"
      description: "아파트 ID를 기반으로 아파트 정보를 가져옵니다."
      parameters:
        - name: apartmentId
          in: path
          required: true
          schema:
            type: string
          example: "-OM9SXC1NaXBhV-b2oV2"
      responses:
        200:
          description: "아파트 정보 반환"
        500:
          description: "서버 오류"

  /apartment/search/{name}:
    get:
      summary: 아파트 이름으로 검색
      description: 특정 아파트 이름이 포함된 아파트 목록을 반환합니다.
      tags:
        - Apartment
      parameters:
        - name: name
          in: path
          required: true
          description: 검색할 아파트 이름
          schema:
            type: string
      responses:
        200:
          description: 검색된 아파트 목록 반환
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "apt123"
                    name:
                      type: string
                      example: "강남1차 아파트"
                    complexId:
                      type: string
                      example: "cx456"
                    temp:
                      type: number
                      nullable: true
                      example: 25
        500:
          description: 서버 오류 발생
